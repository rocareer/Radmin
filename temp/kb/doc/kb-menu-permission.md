# 知识库模块权限菜单配置

## 菜单文件说明

### 1. 完整版本 (`kb_menu_patch.sql`)
**适用场景**: 完整的知识库系统规划
**包含功能**:
- 基础配置：类型、分类、标签管理
- 内容管理：知识库、文章管理
- 统计分析：访问统计、热门内容

### 2. 简化版本 (`kb_menu_simple.sql`) ⭐ 推荐
**适用场景**: 当前已实现功能
**包含功能**:
- 基础配置：类型、分类、标签管理

## 菜单结构

### 主菜单层级
```
知识库管理 (权重:79)
└── 基础配置 (权重:78)
    ├── 类型管理 (权重:77)
    ├── 分类管理 (权重:76)
    └── 标签管理 (权重:75)
```

### 图标选择理由

| 菜单项 | 图标 | 理由 |
|--------|------|------|
| 知识库管理 | `fa fa-book` | 书本图标，直观代表知识库 |
| 基础配置 | `fa fa-cogs` | 齿轮图标，代表系统配置 |
| 类型管理 | `fa fa-tags` | 标签图标，代表内容分类类型 |
| 分类管理 | `fa fa-folder` | 文件夹图标，代表层级分类 |
| 标签管理 | `fa fa-tag` | 单标签图标，代表标签系统 |

## 权限配置

### 每个功能模块包含的权限按钮

#### 基础权限 (所有模块通用)
- **查看**: `模块名/index` - 访问列表页面
- **添加**: `模块名/add` - 新增数据
- **编辑**: `模块名/edit` - 修改数据
- **删除**: `模块名/del` - 删除数据
- **快速排序**: `模块名/sortable` - 拖拽排序

#### 权限说明
- 所有按钮权限默认启用
- 权重按重要性递减排列
- 遵循系统原有权限命名规范

## 使用方法

### 1. 执行SQL补丁
```sql
-- 推荐使用简化版本
SOURCE /path/to/kb_menu_simple.sql;
```

### 2. 分配权限
1. 进入 `权限管理 > 角色组管理`
2. 选择需要授权的角色
3. 勾选知识库管理相关权限
4. 保存权限设置

### 3. 验证功能
1. 使用授权角色登录后台
2. 检查菜单是否显示
3. 验证各功能按钮是否可用
4. 测试权限控制是否生效

## 当前实现状态

### ✅ 已完成功能
- **类型管理**: 完整CRUD + 状态切换 + 排序
- **分类管理**: 完整CRUD + 状态切换 + 排序  
- **标签管理**: 完整CRUD + 状态切换 + 排序 + 颜色

### 🚧 待实现功能
- **知识库管理**: 主知识库管理
- **文章管理**: 内容文章管理
- **统计分析**: 访问统计和热门内容

## 技术细节

### 菜单配置参数
```sql
INSERT INTO `ra_admin_rule` (
    `pid`,           -- 父菜单ID
    `type`,          -- 类型: menu_dir/menu/button
    `title`,         -- 显示标题
    `name`,          -- 路由名称
    `path`,          -- 路由路径
    `icon`,          -- 图标样式
    `menu_type`,     -- 菜单类型: tab/link/iframe
    `url`,           -- 链接地址
    `component`,     -- Vue组件路径
    `keepalive`,     -- 页面缓存: 0/1
    `extend`,        -- 扩展属性
    `remark`,        -- 备注说明
    `weigh`,         -- 权重排序
    `status`,        -- 状态: 0/1
    `create_time`,   -- 创建时间
    `update_time`    -- 更新时间
)
```

### 组件路径对应关系
| 菜单 | 组件路径 |
|------|----------|
| 类型管理 | `/src/views/backend/kb/type/index.vue` |
| 分类管理 | `/src/views/backend/kb/category/index.vue` |
| 标签管理 | `/src/views/backend/kb/tag/index.vue` |

## 注意事项

1. **权限继承**: 子菜单会自动继承父菜单的访问权限
2. **权重排序**: 数值越大排序越靠前，建议按重要性设置
3. **图标兼容**: 使用 FontAwesome 图标，确保系统已加载相关CSS
4. **组件路径**: 确保Vue组件文件存在且路径正确
5. **权限验证**: 建议在不同权限级别下进行全面测试

## 扩展建议

### 后续功能扩展
当实现更多功能时，可以：
1. 使用完整版菜单补丁
2. 或手动添加新的菜单项
3. 保持命名规范的一致性

### 自定义图标
如需更换图标，可参考：
- FontAwesome 4.7 图标库
- Element UI 图标
- 自定义SVG图标

### 权限细化
可根据业务需求：
- 增加更细粒度的权限控制
- 添加数据权限范围限制
- 实现动态权限分配